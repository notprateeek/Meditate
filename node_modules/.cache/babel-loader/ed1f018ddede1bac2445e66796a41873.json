{"ast":null,"code":"var _jsxFileName = \"/Users/suyeonkang/Desktop/web development/Project/metta/src/hooks/useAudio.js\";\nimport React, { useState, useEffect } from 'react';\nimport PlayBtn from '../components/button/playBtn';\n\nconst useAudio = url => {\n  const [audio] = useState(new Audio(url));\n  const [playing, setPlaying] = useState(false);\n  console.log(audio.currentTime); // audio.ontimeupdate = () => {\n  //   // ContextAPI\n  //   let currentTime = audio.currentTime;\n  //   let elapsed = duration - currentTime;\n  //   let seconds = Math.floor(elapsed % 60);\n  //   let minutes = Math.floor(elapsed / 60);\n  //   let progress = length - (currentTime / duration) * outlineLength;\n  //   DOMstring.outline.style.strokeDashoffset = progress;\n  // }\n\n  const toggle = () => setPlaying(!playing);\n\n  useEffect(() => {\n    playing ? audio.play() : audio.pause();\n  }, [playing, audio]);\n  useEffect(() => {\n    audio.addEventListener('ended', () => setPlaying(false));\n    return () => {\n      audio.removeEventListener('ended', () => setPlaying(false));\n    };\n  }, [audio]);\n  return [playing, toggle];\n};\n\nconst Player = ({\n  url,\n  setStart\n}) => {\n  const [playing, toggle] = useAudio(url);\n\n  const handleClick = () => {\n    toggle();\n    setStart();\n  }; // return <PlayBtn onClick={toggle} playing={playing} />;\n\n\n  return /*#__PURE__*/React.createElement(PlayBtn, {\n    onClick: handleClick,\n    playing: playing,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 10\n    }\n  });\n};\n\nexport default Player; // const useAudio = url => {\n//   const [audio] = useState(new Audio(url));\n//   const [playing, setPlaying] = useState(false);\n//   const toggle = () => setPlaying(!playing);\n//   useEffect(() => {\n//     playing ? audio.play() : audio.pause();\n//   }, [playing, audio]);\n//   useEffect(() => {\n//     audio.addEventListener('ended', () => setPlaying(false));\n//     return () => {\n//       audio.removeEventListener('ended', () => setPlaying(false));\n//     };\n//   }, [audio]);\n//   return [playing, toggle];\n// };\n// const Player = ({ url, setStart }) => {\n//   const [playing, toggle] = useAudio(url);\n//   const handleClick = () => {\n//     toggle();\n//     setStart();\n//   };\n//   // return <PlayBtn onClick={toggle} playing={playing} />;\n//   return <PlayBtn onClick={handleClick} playing={playing} />;\n// };\n// export default Player;","map":{"version":3,"sources":["/Users/suyeonkang/Desktop/web development/Project/metta/src/hooks/useAudio.js"],"names":["React","useState","useEffect","PlayBtn","useAudio","url","audio","Audio","playing","setPlaying","console","log","currentTime","toggle","play","pause","addEventListener","removeEventListener","Player","setStart","handleClick"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,8BAApB;;AAEA,MAAMC,QAAQ,GAAGC,GAAG,IAAI;AACtB,QAAM,CAACC,KAAD,IAAUL,QAAQ,CAAC,IAAIM,KAAJ,CAAUF,GAAV,CAAD,CAAxB;AACA,QAAM,CAACG,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,KAAD,CAAtC;AAEAS,EAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACM,WAAlB,EAJsB,CAMtB;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMC,MAAM,GAAG,MAAMJ,UAAU,CAAC,CAACD,OAAF,CAA/B;;AAEAN,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,OAAO,GAAGF,KAAK,CAACQ,IAAN,EAAH,GAAkBR,KAAK,CAACS,KAAN,EAAzB;AACD,GAFQ,EAEN,CAACP,OAAD,EAAUF,KAAV,CAFM,CAAT;AAIAJ,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,KAAK,CAACU,gBAAN,CAAuB,OAAvB,EAAgC,MAAMP,UAAU,CAAC,KAAD,CAAhD;AACA,WAAO,MAAM;AACXH,MAAAA,KAAK,CAACW,mBAAN,CAA0B,OAA1B,EAAmC,MAAMR,UAAU,CAAC,KAAD,CAAnD;AACD,KAFD;AAGD,GALQ,EAKN,CAACH,KAAD,CALM,CAAT;AAOA,SAAO,CAACE,OAAD,EAAUK,MAAV,CAAP;AACD,CA/BD;;AAiCA,MAAMK,MAAM,GAAG,CAAC;AAAEb,EAAAA,GAAF;AAAOc,EAAAA;AAAP,CAAD,KAAuB;AACpC,QAAM,CAACX,OAAD,EAAUK,MAAV,IAAoBT,QAAQ,CAACC,GAAD,CAAlC;;AAEA,QAAMe,WAAW,GAAG,MAAM;AACxBP,IAAAA,MAAM;AACNM,IAAAA,QAAQ;AACT,GAHD,CAHoC,CAQpC;;;AACA,sBAAO,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAEC,WAAlB;AAA+B,IAAA,OAAO,EAAEZ,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAVD;;AAYA,eAAeU,MAAf,C,CAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PlayBtn from '../components/button/playBtn';\n\nconst useAudio = url => {\n  const [audio] = useState(new Audio(url));\n  const [playing, setPlaying] = useState(false);\n\n  console.log(audio.currentTime);\n\n  // audio.ontimeupdate = () => {\n  //   // ContextAPI\n  //   let currentTime = audio.currentTime;\n\n  //   let elapsed = duration - currentTime;\n  //   let seconds = Math.floor(elapsed % 60);\n  //   let minutes = Math.floor(elapsed / 60);\n  //   let progress = length - (currentTime / duration) * outlineLength;\n  //   DOMstring.outline.style.strokeDashoffset = progress;\n  // }\n\n  const toggle = () => setPlaying(!playing);\n\n  useEffect(() => {\n    playing ? audio.play() : audio.pause();\n  }, [playing, audio]);\n\n  useEffect(() => {\n    audio.addEventListener('ended', () => setPlaying(false));\n    return () => {\n      audio.removeEventListener('ended', () => setPlaying(false));\n    };\n  }, [audio]);\n\n  return [playing, toggle];\n};\n\nconst Player = ({ url, setStart }) => {\n  const [playing, toggle] = useAudio(url);\n\n  const handleClick = () => {\n    toggle();\n    setStart();\n  };\n\n  // return <PlayBtn onClick={toggle} playing={playing} />;\n  return <PlayBtn onClick={handleClick} playing={playing} />;\n};\n\nexport default Player;\n\n// const useAudio = url => {\n//   const [audio] = useState(new Audio(url));\n//   const [playing, setPlaying] = useState(false);\n\n//   const toggle = () => setPlaying(!playing);\n\n//   useEffect(() => {\n//     playing ? audio.play() : audio.pause();\n//   }, [playing, audio]);\n\n//   useEffect(() => {\n//     audio.addEventListener('ended', () => setPlaying(false));\n//     return () => {\n//       audio.removeEventListener('ended', () => setPlaying(false));\n//     };\n//   }, [audio]);\n\n//   return [playing, toggle];\n// };\n\n// const Player = ({ url, setStart }) => {\n//   const [playing, toggle] = useAudio(url);\n\n//   const handleClick = () => {\n//     toggle();\n//     setStart();\n//   };\n\n//   // return <PlayBtn onClick={toggle} playing={playing} />;\n//   return <PlayBtn onClick={handleClick} playing={playing} />;\n// };\n\n// export default Player;\n"]},"metadata":{},"sourceType":"module"}